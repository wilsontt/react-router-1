# 響應式佈局說明：漢堡選單與填寫訂單資料

## 1. 目的

本文件記錄前台「**漢堡選單**」（導覽列）與「**填寫訂單資料**」（購物車頁表單區）的響應式佈局實作方式，供維護與擴充時參考。

## 2. 範圍

- **漢堡選單**：`pages/Layout.jsx` 內導覽列（navbar）在桌機橫向、行動裝置折疊為漢堡選單之行為。
- **購物車列表**：`pages/Cart.jsx` 內商品列表區在行動裝置以卡片列表呈現、桌機以表格呈現，**不出現水平捲軸**。
- **填寫訂單資料**：`pages/Cart.jsx` 內「收件人資料」「付款方式」「付款金額」等區塊在小螢幕單欄、中大螢幕雙欄之排版。

## 3. 權責

| 模組 | 檔案 | 職責 |
|------|------|------|
| 版面與導覽 | `pages/Layout.jsx` | 主內容區寬度、導覽列結構、漢堡按鈕與選單折疊 |
| 購物車與訂單表單 | `pages/Cart.jsx` | 購物車列表（行動版卡片／桌機表格）、結帳／繼續購物、填寫訂單表單之欄位與響應式欄位配置 |
| 全域樣式與 JS | `src/main.jsx` | 引入 Bootstrap 5 CSS/JS，使 navbar collapse、toggler 可正常運作 |

## 4. 名詞解釋

| 名詞 | 說明 |
|------|------|
| 漢堡選單 | 小螢幕時以按鈕（三橫線圖示）觸發展開／收合之導覽選單 |
| navbar-expand-* | Bootstrap 5 斷點：超過該斷點時導覽橫向展開，以下則折疊 |
| collapse / navbar-collapse | Bootstrap 5 折疊區塊，由 toggler 控制顯示與隱藏 |
| 填寫訂單資料 | Cart 頁中「收件人資料」「付款方式」「付款金額」等表單區塊 |
| 雙版佈局 | 同一資料在窄螢幕與寬螢幕以不同 UI 呈現（例：行動版卡片、桌機表格），以 Bootstrap 顯示類 `d-md-none`／`d-none d-md-block` 切換 |

## 5. 作業內容（響應式實作細節）

### 5.1 漢堡選單（Layout 導覽列）

**檔案**：`pages/Layout.jsx`

**結構要點**：

- **外層**：`<nav className="navbar navbar-expand-md navbar-light bg-light rounded mb-3">`
  - `navbar-expand-md`：螢幕 ≥ 768px（md）時選單橫向展開；&lt; md 時顯示漢堡按鈕並折疊選單。
- **品牌區**：`navbar-brand`（Logo + 標題）維持可見。
- **漢堡按鈕**：
  - `navbar-toggler`、`data-bs-toggle="collapse"`、`data-bs-target="#navbarMain"`
  - `aria-controls="navbarMain"`、`aria-expanded="false"`、`aria-label="切換選單"`
- **選單區**：`<div className="collapse navbar-collapse" id="navbarMain">`
  - 內含 `navbar-nav` 與選單項目；右側可放日期等元件。
- **選單項目**：`nav-item` + `Link`（`nav-link`）；選單項之間的分隔符「|」使用 `d-none d-md-inline`，僅在 md 以上顯示，避免小螢幕擁擠。

**主內容區寬度（同檔案）**：

- `container-fluid` + `px-4 px-md-5`（小螢幕略小內距、md 以上較大內距）
- `style={{ maxWidth: '1600px', marginLeft: 'auto', marginRight: 'auto' }}`：大螢幕時限制最大寬度並置中。

**相依**：需在 `src/main.jsx` 引入 Bootstrap 5 JS（例如 `bootstrap.bundle.min.js`），漢堡按鈕的 collapse 才會正常運作。

---

### 5.2 填寫訂單資料（Cart 頁表單區）

**檔案**：`pages/Cart.jsx`

**區塊結構**：

- **外層**：`<div className="container mb-5">` 內之 `<div className="row g-3">`。
- **左欄（收件人資料）**：`<div className="col-12 col-md-6">`
  - 小螢幕：`col-12` 單欄全寬。
  - md 以上：`col-md-6` 佔一半，與右欄並排。
- **右欄（付款方式 ＋ 付款金額）**：`<div className="col-12 col-md-6">`
  - 同上，與左欄對齊成雙欄。

**表格與按鈕列**：

- 購物車表格外層使用 `w-100` 且 `style={{ minWidth: 0 }}`，避免在窄螢幕橫向溢出。
- 結帳／繼續購物按鈕列：`row` + 兩顆按鈕各用 `col-6`（左：結帳，右：繼續購物）。
- 下方「取消訂單／確認訂單」按鈕列：使用 `row` + `col-12 col-md-6`（或同類欄位）可依需求做成響應式排列。

**小結**：填寫訂單資料區以 **Bootstrap 網格 `row` + `col-12 col-md-6`** 達成「小螢幕單欄、md 以上雙欄」之響應式佈局。

---

### 5.3 購物車列表（Cart 頁商品列表）

**檔案**：`pages/Cart.jsx`

**問題**：列表若一律用表格，在窄螢幕時「數量/單位」與「小計」欄易重疊；若改為表格外層 `overflow-x: auto` 產生水平捲軸，在行動裝置上體驗不佳。

**做法**：採 **雙版佈局**，依斷點顯示不同 UI，**不出現水平捲軸**。

| 斷點 | 顯示區塊 | 說明 |
|------|----------|------|
| **&lt; 768px（md 以下）** | `d-md-none` | 行動版：每筆購物車為一張**卡片**，內容垂直堆疊，不超出視窗寬度。 |
| **≥ 768px** | `d-none d-md-block` | 桌機版：維持原有 **表格**（`<table>`），`width: 100%`，無 `overflow-auto`、無 `minWidth`。 |

**行動版卡片結構（每筆商品）**：

- 外層：`<div className="border rounded p-2 mb-2 bg-white">`
- 上排：`d-flex justify-content-between` — 左側為圖片（64×64）+ 品名（`text-truncate`）+ 小計；右側為移除按鈕。
- 下排：`d-flex justify-content-between border-top pt-2 mt-2` — 左側為數量控制（− 數字 + 件）、右側為小計（粗體）。
- 列表下方：總計列（總計／NT：$xxx）。

**桌機版表格**：

- 維持原有 `<table>` 與欄位（移除、圖片、品名、數量/單位、小計）、tfoot 總計。
- 表格外層不使用 `overflow-auto`，表格不設 `minWidth`，避免出現水平捲軸。

**小結**：以 **Bootstrap 顯示類 `d-md-none`（行動版卡片）** 與 **`d-none d-md-block`（桌機表格）** 切換，同一 `carts` 資料在兩種版面重複渲染，行動裝置無水平捲軸、數量與小計不重疊。

## 6. 參考文件

- [Bootstrap 5 Navbar](https://getbootstrap.com/docs/5.3/components/navbar/)
- [Bootstrap 5 Grid](https://getbootstrap.com/docs/5.3/layout/grid/)
- 專案內：`1.docs/購物流程與API說明.md`（購物車與結帳流程）

## 7. 使用表單（欄位說明）

本文件未定義新表單；「填寫訂單資料」區塊之欄位以 `Cart.jsx` 現有實作為準，例如：

| 區塊 | 欄位／項目 | 說明 |
|------|------------|------|
| 收件人資料 | 收件人姓名、Email、電話、地址 | 文字／email 輸入，目前為前端欄位 |
| 付款方式 | 付款方式（選單） | 選項：信用卡、貨到付款、ATM 等 |
| 付款金額 | 訂單金額(未稅)、最終金額(含稅) | 由購物車 `cartData.total`、`cartData.final_total` 計算顯示 |

若日後接後端 API，欄位名稱、必填與驗證請於 API 規格或 PRD 中另行定義。
